<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Shooter Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
        }

        #gameCanvas {
            display: block;
            margin: auto;
            background-color: #000;
        }

        .spaceship {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: url('https://via.placeholder.com/50/FFFFFF') no-repeat;
            background-size: cover;
        }

        .bullet {
            position: absolute;
            width: 5px;
            height: 10px;
            background: red;
        }

        .enemy {
            position: absolute;
            width: 40px;
            height: 40px;
            background: green;
        }
    </style>
</head>
<body>
    <div id="gameCanvas">
        <div id="spaceship" class="spaceship"></div>
    </div>
    <script>
        const spaceship = document.getElementById('spaceship');
        const gameCanvas = document.getElementById('gameCanvas');
        let bullets = [];
        let enemies = [];

        const canvasWidth = window.innerWidth;
        const canvasHeight = window.innerHeight;
        
        gameCanvas.style.width = `${canvasWidth}px`;
        gameCanvas.style.height = `${canvasHeight}px`;

        let spaceshipX = canvasWidth / 2 - 25;
        let spaceshipSpeed = 10;

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowLeft' && spaceshipX > 0) {
                spaceshipX -= spaceshipSpeed;
            } else if (event.key === 'ArrowRight' && spaceshipX < canvasWidth - 50) {
                spaceshipX += spaceshipSpeed;
            } else if (event.key === ' ') {
                shootBullet();
            }
            updateSpaceshipPosition();
        });

        function updateSpaceshipPosition() {
            spaceship.style.left = `${spaceshipX}px`;
        }

        function shootBullet() {
            const bullet = document.createElement('div');
            bullet.className = 'bullet';
            bullet.style.left = `${spaceshipX + 22}px`;
            bullet.style.bottom = '70px';
            gameCanvas.appendChild(bullet);
            bullets.push(bullet);
        }

        function createEnemy() {
            const enemy = document.createElement('div');
            enemy.className = 'enemy';
            enemy.style.left = `${Math.random() * (canvasWidth - 40)}px`;
            enemy.style.top = '0px';
            gameCanvas.appendChild(enemy);
            enemies.push(enemy);
        }

        function moveBullets() {
            bullets.forEach((bullet, index) => {
                const bulletTop = parseInt(bullet.style.bottom.replace('px', ''));
                if (bulletTop > canvasHeight) {
                    gameCanvas.removeChild(bullet);
                    bullets.splice(index, 1);
                } else {
                    bullet.style.bottom = `${bulletTop + 10}px`;
                }
            });
        }

        function moveEnemies() {
            enemies.forEach((enemy, index) => {
                const enemyTop = parseInt(enemy.style.top.replace('px', ''));
                if (enemyTop > canvasHeight) {
                    gameCanvas.removeChild(enemy);
                    enemies.splice(index, 1);
                } else {
                    enemy.style.top = `${enemyTop + 5}px`;
                }
            });
        }

        function detectCollisions() {
            bullets.forEach((bullet, bulletIndex) => {
                const bulletRect = bullet.getBoundingClientRect();
                enemies.forEach((enemy, enemyIndex) => {
                    const enemyRect = enemy.getBoundingClientRect();
                    if (
                        bulletRect.left < enemyRect.right &&
                        bulletRect.right > enemyRect.left &&
                        bulletRect.top < enemyRect.bottom &&
                        bulletRect.bottom > enemyRect.top
                    ) {
                        gameCanvas.removeChild(bullet);
                        gameCanvas.removeChild(enemy);
                        bullets.splice(bulletIndex, 1);
                        enemies.splice(enemyIndex, 1);
                    }
                });
            });
        }

        setInterval(() => {
            createEnemy();
        }, 2000);

        function gameLoop() {
            moveBullets();
            moveEnemies();
            detectCollisions();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
